<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Quiz: Säure Basen</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: Arial, sans-serif;
  background-color: #e0f7fa;
  margin: 0;
  padding: 20px;
  display: flex;
  justify-content: center;
  align-items: start;
  min-height: 100vh;
}

.container {
  width: 95%;
  background-color: #ffffff;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  display: flex;
  flex-direction: column;
  min-height: 90vh;
  height: auto;          
}

    h2 {
      color: #004d40;
      text-align: center;
      margin-bottom: 20px;
    }
    .frage {
      flex: 1;
      font-size: 20px;
      margin-bottom: 20px;
    }
    .antworten {
      flex: 2;
      display: flex;
      flex-direction: column;
    }
    .antworten button {
      margin: 8px 0;
      padding: 14px;
      font-size: 18px;
      font-weight: bold;
      color: #000;
      background-color: #4dd0e1;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .antworten button:hover {
      background-color: #00bcd4;
    }
    .antworten button.correct {
      background-color: #66bb6a;
    }
    .antworten button.wrong {
      background-color: #ef5350;
    }
    .navigation {
      display: none;
      margin-top: 20px;
      justify-content: center;
      gap: 20px; /* Abstand zwischen den Buttons */
    }
    .navigation button {
      padding: 12px 24px;
      font-size: 16px;
      font-weight: bold;
      color: #fff;
      background-color: #004d40;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .navigation button:hover {
      background-color: #00332b;
    }
    .ergebnis {
  display: none;
  text-align: left;
  font-size: 18px;
  color: #004d40;
  margin-top: 20px;
  overflow-wrap: break-word;
  max-width: 100%;
}
.ergebnis ul {
  padding-left: 20px;
}
.ergebnis li {
  margin-bottom: 10px;
}
    .level-auswahl {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 10px; /* Nach oben verschieben */
    }
    .level-auswahl button {
      margin: 10px;
      padding: 12px 24px;
      font-size: 18px;
      font-weight: bold;
      color: #fff;
      background-color: #00796b;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .level-auswahl button:hover {
      background-color: #004d40;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Quiz: Säure Basen</h2>
    <div class="level-auswahl" id="level-auswahl">
      <button onclick="startQuiz('leicht')">Leicht</button>
      <button onclick="startQuiz('mittel')">Mittel</button>
      <button onclick="startQuiz('schwer')">Schwer</button>
    </div>
    <div class="frage" id="frage" style="display: none;"></div>
    <div class="antworten" id="antworten" style="display: none;"></div>
    <div class="ergebnis" id="ergebnis"></div>
    <div class="navigation" id="navigation">
      <button onclick="restart()">Wiederholen</button>
      <button onclick="Levels()">Levels</button>
    </div>
  </div>
  <script>
    let wrongAnswers = [];

    const allQuestions = [
  { question: "Was ist eine Säure nach Brønsted?", answers: ["Ein Elektronenpaar-Donator", "Ein Protonen-Donator", "Ein Hydroxidion", "Ein Elektronenakzeptor"], correct: 1, level: "leicht" },
  { question: "Was ist eine Base nach Brønsted?", answers: ["Ein Elektronenpaar-Donator", "Ein Protonen-Akzeptor", "Ein Protonen-Donator", "Ein Oxidationsmittel"], correct: 1, level: "leicht" },
  { question: "Was beschreibt der pH-Wert?", answers: ["Konzentration der Hydroxidionen", "Konzentration der Protonen", "Menge der gelösten Salze", "Temperatur der Lösung"], correct: 1, level: "leicht" },
  { question: "Welchen pH-Wert hat eine neutrale Lösung bei 25 °C?", answers: ["pH 0", "pH 3", "pH 7", "pH 14"], correct: 2, level: "leicht" },
  { question: "Was ist der pH-Wert einer sauren Lösung?", answers: ["< 7", "= 7", "> 7", "genau 14"], correct: 0, level: "leicht" },
  { question: "Was entsteht bei der Reaktion von HCl mit NaOH?", answers: ["H₂", "NaCl und H₂O", "Cl₂", "NaH"], correct: 1, level: "leicht" },
  { question: "Was ist eine starke Säure?", answers: ["Eine Säure, die teilweise dissoziiert", "Eine Säure, die vollständig protoniert", "Eine Säure, die vollständig dissoziiert", "Eine Base mit hoher Protonenzahl"], correct: 2, level: "leicht" },
  { question: "Welcher Stoff ist eine Base?", answers: ["HCl", "HNO₃", "NaOH", "CO₂"], correct: 2, level: "leicht" },
  { question: "Was bedeutet ein pH-Wert von 2?", answers: ["Stark basisch", "Schwach basisch", "Stark sauer", "Neutral"], correct: 2, level: "leicht" },
  { question: "Was bedeutet ein pH-Wert von 9?", answers: ["Stark sauer", "Schwach basisch", "Neutral", "Stark basisch"], correct: 1, level: "leicht" },
  { question: "Welche Ionen bestimmen die Basizität einer Lösung?", answers: ["H⁺-Ionen", "Cl⁻-Ionen", "Na⁺-Ionen", "OH⁻-Ionen"], correct: 3, level: "leicht" },
  { question: "Was ist das Konjugat einer Säure?", answers: ["Ein Salz", "Eine Base", "Ein Oxid", "Ein Metallkation"], correct: 1, level: "leicht" },
  { question: "Was passiert beim Lösen von HCl in Wasser?", answers: ["Bildung von Cl₂", "Freisetzung von Na⁺", "Dissoziation in H⁺ und Cl⁻", "Neutralisation"], correct: 2, level: "leicht" },
  { question: "Was ist das Lösungsmittel in einer wässrigen Lösung?", answers: ["Wasser", "Säure", "Base", "Salz"], correct: 0, level: "leicht" },
  { question: "Welche Verbindung ist eine Säure?", answers: ["NaOH", "NH₃", "H₂SO₄", "NaCl"], correct: 2, level: "leicht" },
  { question: "Was entsteht bei einer Neutralisationsreaktion?", answers: ["Gas", "Metall", "Salz und Wasser", "Säure"], correct: 2, level: "leicht" },
  { question: "Was passiert bei der Reaktion von Essigsäure mit Natronlauge?", answers: ["Basen entstehen", "Wasserstoffgas wird frei", "Ein Salz und Wasser entstehen", "Es erfolgt eine Oxidation"], correct: 2, level: "leicht" },
  { question: "Was bedeutet Amphoterie?", answers: ["Stoffe wirken nur als Säure", "Stoffe wirken nur als Base", "Stoffe können sowohl als Säure als auch als Base reagieren", "Stoffe sind neutral"], correct: 2, level: "leicht" },
  { question: "Was ist ein Beispiel für eine amphotere Substanz?", answers: ["NaCl", "NH₄⁺", "H₂O", "NaOH"], correct: 2, level: "leicht" },
  { question: "Was ist die Konzentration von H⁺-Ionen bei pH 7?", answers: ["10⁻¹ mol/L", "10⁻⁷ mol/L", "1 mol/L", "0 mol/L"], correct: 1, level: "leicht" },
  { question: "Was ist der pOH-Wert?", answers: ["Das Gegenteil des pH-Werts", "Ein Maß für H⁺-Konzentration", "Ein Maß für OH⁻-Konzentration", "Ein Maß für Salzgehalt"], correct: 2, level: "leicht" },
  { question: "Welche Aussage zur Lauge ist korrekt?", answers: ["Sie gibt H⁺ ab", "Sie gibt OH⁻ ab", "Sie enthält Chlor", "Sie ist immer giftig"], correct: 1, level: "leicht" },
  { question: "Was beschreibt die Autoprotolyse von Wasser?", answers: ["Bildung von H₂", "Reaktion von Wasser mit sich selbst zu H₃O⁺ und OH⁻", "Zerfall in H₂ und O₂", "Lösung von Salzen"], correct: 1, level: "leicht" },
  { question: "Welche Aussage zum pH-Wert ist korrekt?", answers: ["Ein hoher pH-Wert bedeutet hohe H⁺-Konzentration", "Ein niedriger pH-Wert bedeutet basisch", "Der pH-Wert ist logarithmisch", "pH-Wert ist unabhängig von Temperatur"], correct: 2, level: "leicht" },
  { question: "Welche Verbindung reagiert basisch in Wasser?", answers: ["HCl", "CH₃COOH", "NaOH", "HNO₃"], correct: 2, level: "leicht" },
  { question: "Was ist die Definition einer Base nach Lewis?", answers: ["Elektronenpaar-Donator", "Elektronenpaar-Akzeptor", "Protonen-Donator", "Elektronentransporter"], correct: 0, level: "leicht" },
  { question: "Was beschreibt ein Indikator?", answers: ["Ein pH-Wert-Rechner", "Ein Stoff, der die Farbe je nach pH-Wert ändert", "Ein Reagenzglas", "Ein Salzkristall"], correct: 1, level: "leicht" },
  { question: "Was ist typisch für eine starke Base?", answers: ["Sie dissoziiert vollständig", "Sie bildet Salze", "Sie neutralisiert Säuren nur teilweise", "Sie ist immer flüssig"], correct: 0, level: "leicht" },
  { question: "Welche Einheit hat der pH-Wert?", answers: ["mol/L", "Keine", "mg/L", "ppm"], correct: 1, level: "leicht" },
  { question: "Welche Base ist schwach?", answers: ["NaOH", "KOH", "NH₃", "Ca(OH)₂"], correct: 2, level: "leicht" },
  { question: "Welche Aussage zur pH-Berechnung einer starken einprotonigen Säure ist korrekt?", answers: ["pH = –log[H⁺]", "pH = –log[OH⁻]", "pH = 14 – log[OH⁻]", "pH = –log[Base]"], correct: 0, level: "mittel" },
  { question: "Was ist ein konjugiertes Basenpaar zur Säure H₂CO₃?", answers: ["HCO₃⁻", "CO₃²⁻", "H⁺", "OH⁻"], correct: 0, level: "mittel" },
  { question: "Welche Aussage beschreibt das Verhalten von NH₃ in Wasser?", answers: ["NH₃ ist eine starke Base", "NH₃ dissoziiert vollständig", "NH₃ wirkt als Brønsted-Base", "NH₃ spendet Protonen"], correct: 2, level: "mittel" },
  { question: "Welche Aussage zur Autoprotolyse von Wasser ist korrekt?", answers: ["H₂O bildet H₂ und O₂", "H₂O reagiert mit CO₂", "H₂O reagiert mit sich selbst zu H₃O⁺ und OH⁻", "H₂O dissoziiert in H⁺ und OH⁻ ohne Gleichgewicht"], correct: 2, level: "mittel" },
  { question: "Wie lautet der pH-Wert einer 0,01 molaren HCl-Lösung?", answers: ["pH 1", "pH 2", "pH 3", "pH 4"], correct: 1, level: "mittel" },
  { question: "Was beschreibt der pKa-Wert einer Säure?", answers: ["Die Konzentration von H₃O⁺", "Den pH-Wert bei Neutralisation", "Die Stärke der Säure", "Die Basizität der konjugierten Base"], correct: 2, level: "mittel" },
  { question: "Was trifft auf Puffersysteme zu?", answers: ["Sie bestehen aus einer starken Säure und starker Base", "Sie halten den pH-Wert bei Zugabe von Säuren oder Basen konstant", "Sie neutralisieren vollständig", "Sie erhöhen den pH-Wert immer"], correct: 1, level: "mittel" },
  { question: "Welche Kombination bildet einen Puffer?", answers: ["HCl + NaOH", "CH₃COOH + CH₃COONa", "HNO₃ + KNO₃", "NaOH + NaCl"], correct: 1, level: "mittel" },
  { question: "Was passiert mit dem pH-Wert eines Puffers bei Zugabe kleiner Mengen HCl?", answers: ["Er sinkt stark", "Er bleibt nahezu konstant", "Er steigt stark", "Er wird neutral"], correct: 1, level: "mittel" },
  { question: "Wie verhält sich eine schwache Säure im Vergleich zu einer starken Säure?", answers: ["Sie dissoziiert vollständig", "Sie gibt keine Protonen ab", "Sie dissoziiert nur teilweise", "Sie ist elektrisch leitfähiger"], correct: 2, level: "mittel" },
  { question: "Was bedeutet ein kleiner pKa-Wert?", answers: ["Starke Base", "Schwache Säure", "Starke Säure", "Neutraler Stoff"], correct: 2, level: "mittel" },
  { question: "Was beschreibt das Ionenprodukt des Wassers Kw bei 25 °C?", answers: ["Kw = [H⁺] + [OH⁻]", "Kw = [H⁺]/[OH⁻]", "Kw = [H⁺] × [OH⁻] = 1 × 10⁻¹⁴", "Kw = pH + pOH"], correct: 2, level: "mittel" },
  { question: "Was ist das konjugierte Basenpaar von HSO₄⁻?", answers: ["SO₄²⁻", "HSO₄²⁻", "H₂SO₄", "OH⁻"], correct: 0, level: "mittel" },
  { question: "Welche Aussage zu amphoteren Stoffen ist korrekt?", answers: ["Sie reagieren nur mit Säuren", "Sie reagieren nur mit Basen", "Sie können als Säure und Base reagieren", "Sie neutralisieren nur in Wasser"], correct: 2, level: "mittel" },
  { question: "Was passiert, wenn man NH₃ in Wasser gibt?", answers: ["pH sinkt", "NH₄⁺ und OH⁻ entstehen", "NH₄⁺ und H⁺ entstehen", "Es bildet sich nur NH₄⁺"], correct: 1, level: "mittel" },
  { question: "Was beschreibt der pOH-Wert?", answers: ["–log[H₃O⁺]", "–log[OH⁻]", "14 – pH", "Die Konzentration der Säure"], correct: 1, level: "mittel" },
  { question: "Welche Aussage zur Henderson-Hasselbalch-Gleichung ist korrekt?", answers: ["Sie ist nur für starke Säuren gültig", "Sie beschreibt das Verhalten neutraler Lösungen", "Sie berechnet den pH-Wert von Puffern", "Sie funktioniert nur bei pH = 7"], correct: 2, level: "mittel" },
  { question: "Wie beeinflusst Verdünnung den pH-Wert einer schwachen Säure?", answers: ["Er bleibt gleich", "Er steigt leicht", "Er sinkt", "Er fällt auf 0"], correct: 1, level: "mittel" },
  { question: "Welche Aussage zu mehrprotonigen Säuren ist korrekt?", answers: ["Sie geben nur ein Proton ab", "Sie haben mehrere Dissoziationsstufen", "Sie reagieren nur mit Basen", "Sie sind unlöslich"], correct: 1, level: "mittel" },
  { question: "Was ist die Definition einer Base nach Lewis?", answers: ["Ein Protonenakzeptor", "Ein Elektronenpaar-Donator", "Ein Elektronenpaar-Akzeptor", "Ein H⁺-Donator"], correct: 1, level: "mittel" },
  { question: "Was entsteht bei der Titration einer schwachen Säure mit starker Base?", answers: ["Ein neutraler pH-Wert", "Ein Salz und eine schwache Base", "Nur Wasser", "Ein gasförmiges Produkt"], correct: 1, level: "mittel" },
  { question: "Was passiert im Äquivalenzpunkt einer Titration mit starker Säure und starker Base?", answers: ["pH < 7", "pH > 7", "pH = 7", "keine Reaktion"], correct: 2, level: "mittel" },
  { question: "Welcher pH-Wert wird bei der Neutralisation von CH₃COOH mit NaOH erwartet?", answers: ["Etwas über 7", "Genau 7", "Etwas unter 7", "Stark sauer"], correct: 0, level: "mittel" },
  { question: "Welche Aussage zum pKa eines Puffers ist korrekt?", answers: ["Er sollte möglichst weit vom Ziel-pH entfernt liegen", "Er entspricht dem pH, wenn Base = Säure", "Er ist gleich dem pOH", "Er ist 14 – pH"], correct: 1, level: "mittel" },
  { question: "Was ist die Basenkonstante Kb?", answers: ["[OH⁻] / [Base]", "Ein Maß für die Basenstärke", "Ein Maß für die Säurestärke", "= 1/pKa"], correct: 1, level: "mittel" },
  { question: "Was ist die konjugierte Base von H₂PO₄⁻?", answers: ["HPO₄²⁻", "H₃PO₄", "PO₄³⁻", "H⁺"], correct: 0, level: "mittel" },
  { question: "Welche Aussage zu Puffersystemen trifft zu?", answers: ["Sie bestehen immer aus starker Säure und Base", "Sie wirken nur bei pH = 7", "Sie bestehen aus schwacher Säure und konjugierter Base", "Sie dürfen kein Wasser enthalten"], correct: 2, level: "mittel" },
  { question: "Was passiert beim Überschreiten der Pufferkapazität?", answers: ["Der Puffer wird stärker", "Der pH-Wert verändert sich kaum", "Der pH-Wert verändert sich deutlich", "Die Lösung wird neutral"], correct: 2, level: "mittel" },
  { question: "Was beschreibt die Pufferkapazität?", answers: ["Das pH-Minimum", "Die Menge an Säure/Base, die ein Puffer aufnehmen kann, ohne pH stark zu ändern", "Die Masse des Puffers", "Den Druck der Lösung"], correct: 1, level: "mittel" },
  { question: "Welche Aussage zu NH₄⁺ ist korrekt?", answers: ["Es ist eine starke Base", "Es ist die konjugierte Säure von NH₃", "Es dissoziiert in OH⁻", "Es ist pH-neutral"], correct: 1, level: "mittel" },
  { question: "Welche Aussage zur Henderson-Hasselbalch-Gleichung ist korrekt?", answers: ["Sie gilt nur für starke Säuren", "Sie berechnet das exakte Verhältnis von OH⁻ zu H⁺", "Sie setzt die Konzentration von konjugierter Base zur Säure ins Verhältnis", "Sie ist unabhängig vom pKa-Wert"], correct: 2, level: "schwer" },
  { question: "Welche Aussage beschreibt ein Puffersystem optimal?", answers: ["pKa = pH", "pKa ≈ pH ± 4", "pKa = 14", "pKa ist irrelevant für Pufferwirkung"], correct: 0, level: "schwer" },
  { question: "Was beschreibt die Isoelektrizität eines Ampholyten?", answers: ["Gleiche Konzentration von H⁺ und OH⁻", "Punkt, an dem der pH-Wert 0 ist", "pH, bei dem die Nettoladung null ist", "Punkt maximaler Leitfähigkeit"], correct: 2, level: "schwer" },
  { question: "Was beschreibt die Beziehung zwischen Ka und Kb bei einem konjugierten Säure-Base-Paar?", answers: ["Ka × Kb = 1", "Ka × Kb = Kw", "Ka = Kb", "Ka / Kb = 14"], correct: 1, level: "schwer" },
  { question: "Welche Aussage zur Titration einer schwachen Säure mit starker Base trifft zu?", answers: ["Der Äquivalenzpunkt liegt bei pH 7", "Es wird kein Puffer gebildet", "Der pH am Äquivalenzpunkt liegt über 7", "Es entsteht eine starke Säure"], correct: 2, level: "schwer" },
  { question: "Welche Aussage zur Dissoziation von Phosphorsäure ist korrekt?", answers: ["Sie ist eine einprotonige Säure", "Sie gibt alle drei Protonen gleichzeitig ab", "Sie zeigt drei aufeinanderfolgende pKa-Werte", "Sie dissoziiert vollständig in Wasser"], correct: 2, level: "schwer" },
  { question: "Welche Kombination führt zur besten Pufferwirkung?", answers: ["pH = pKa", "pKa weit entfernt vom Ziel-pH", "pOH = pKa", "Base : Säure = 10 : 1"], correct: 0, level: "schwer" },
  { question: "Welche Aussage zur Berechnung des pH-Werts einer schwachen Säure ist korrekt?", answers: ["pH = –log[HA]", "pH = ½(pKa – log c₀)", "pH = ½(pKa – log Ka)", "pH = ½(pKa – log[OH⁻])"], correct: 1, level: "schwer" },
  { question: "Welcher Zusammenhang besteht zwischen pKa und Säurestärke?", answers: ["Je kleiner der pKa, desto schwächer die Säure", "Ein großer pKa bedeutet starke Säure", "Je kleiner der pKa, desto stärker die Säure", "pKa ist nur für Basen definiert"], correct: 2, level: "schwer" },
  { question: "Welche Aussage zur Lewis-Säure-Basen-Theorie ist korrekt?", answers: ["Lewis-Basen nehmen Protonen auf", "Lewis-Säuren geben Elektronenpaare ab", "Lewis-Basen sind immer negativ geladen", "Lewis-Basen stellen Elektronenpaare zur Verfügung"], correct: 3, level: "schwer" },
  { question: "Was passiert mit dem pH-Wert bei Zugabe eines Salzes wie NH₄Cl zu Wasser?", answers: ["Er bleibt gleich", "Er sinkt leicht, da NH₄⁺ als schwache Säure wirkt", "Er steigt stark", "Er steigt leicht, da Cl⁻ basisch ist"], correct: 1, level: "schwer" },
  { question: "Welche Aussage zur Wasserstoffionenaktivität ist korrekt?", answers: ["Sie ist identisch mit der H⁺-Konzentration", "Sie ist immer kleiner als die Konzentration", "Sie hat keine Bedeutung bei pH-Berechnung", "Sie entspricht OH⁻ bei pH 7"], correct: 1, level: "schwer" },
  { question: "Was ist der pKa-Wert von Wasser als Säure?", answers: ["7", "0", "14", "15.7"], correct: 3, level: "schwer" },
  { question: "Was passiert mit einem Puffersystem bei starker Verdünnung?", answers: ["Pufferkapazität steigt", "Pufferwirkung bleibt gleich", "pH bleibt gleich", "Pufferwirkung sinkt, pH kann sich leicht verschieben"], correct: 3, level: "schwer" },
  { question: "Was bedeutet ein pH < pKa in einem Puffersystem?", answers: ["Säure > konjugierte Base", "Säure < konjugierte Base", "Äquivalenzpunkt", "Puffer ist nicht funktionsfähig"], correct: 0, level: "schwer" },
  { question: "Welche Aussage beschreibt die Funktion eines Ampholyten korrekt?", answers: ["Kann nur als Säure fungieren", "Hat zwei pKa-Werte", "Kann als Säure und Base reagieren", "Hat keine definierte Ladung"], correct: 2, level: "schwer" },
  { question: "Welche Aussage zur Dissoziation von CH₃COOH trifft zu?", answers: ["Dissoziiert vollständig", "Hat einen pKa nahe 1", "Bildet ein Puffersystem mit CH₃COONa", "Reagiert mit Wasser zu NaOH"], correct: 2, level: "schwer" },
  { question: "Was ist die Rolle von Carbonat in biologischen Puffersystemen?", answers: ["Oxidationsmittel", "Basenkomponente im Blutpuffer", "Elektronenüberträger", "Indikator"], correct: 1, level: "schwer" },
  { question: "Was beschreibt der Isoelektrische Punkt eines Proteins?", answers: ["Maximale Reaktivität", "pH-Wert, bei dem das Protein keine Nettoladung hat", "Säurekonzentration", "Pufferpunkt"], correct: 1, level: "schwer" },
  { question: "Welche Aussage zur Titrationskurve einer mehrprotonigen Säure ist korrekt?", answers: ["Sie zeigt nur einen Äquivalenzpunkt", "Jede Dissoziation führt zu eigenem Puffer- und Äquivalenzpunkt", "pKa-Werte sind identisch", "Die Kurve ist linear"], correct: 1, level: "schwer" },
  { question: "Was passiert beim Erreichen des ersten Pufferpunkts bei H₃PO₄-Titration?", answers: ["pKa₁ = pH", "Äquivalenzpunkt erreicht", "pH = 7", "Säure vollständig neutralisiert"], correct: 0, level: "schwer" },
  { question: "Welche Aussage zu organischen Säuren ist korrekt?", answers: ["Sie sind immer stark", "Sie sind meist schwach und teilweise dissoziiert", "Sie dissoziieren vollständig", "Sie bilden keine Puffersysteme"], correct: 1, level: "schwer" },
  { question: "Was passiert bei einer Titration, wenn die Menge Base > Äquivalenzpunkt ist?", answers: ["pH bleibt konstant", "pH sinkt", "Überschüssige Base erhöht den pH", "Lösung wird neutral"], correct: 2, level: "schwer" },
  { question: "Welche Aussage zu konjugierten Säure-Base-Paaren ist korrekt?", answers: ["HCl und Cl₂ sind ein Paar", "NH₃ und NH₂⁻ sind ein Paar", "H₂CO₃ und HCO₃⁻ sind ein Paar", "Na⁺ und OH⁻ sind ein Paar"], correct: 2, level: "schwer" },
  { question: "Welcher pH-Wert wird bei der Titration von CH₃COOH mit NaOH im Äquivalenzpunkt erreicht?", answers: ["< 7", "= 7", "> 7", "genau 14"], correct: 2, level: "schwer" },
  { question: "Welche Aussage beschreibt die Rolle von Histidin im Enzym aktiven Zentrum korrekt?", answers: ["Wirkt als konjugierte Säure", "Wirkt als Puffer und Protonendonor/-akzeptor", "Wird nicht ionisiert", "Hebt den pKa-Wert"], correct: 1, level: "schwer" },
  { question: "Was ist das besondere an Zwitterionen?", answers: ["Sie sind neutral geladen", "Sie enthalten positive und negative Ladungen, aber sind insgesamt neutral", "Sie dissoziieren vollständig", "Sie sind starke Basen"], correct: 1, level: "schwer" },
  { question: "Was beschreibt das Pufferoptimum?", answers: ["pKa – 4", "pH = pKa", "Höchste Pufferkapazität bei pH 7", "Neutraler pH"], correct: 1, level: "schwer" },
  { question: "Was passiert bei der Titration eines Dipeptids mit starker Base?", answers: ["Zwei Äquivalenzpunkte", "Nur einer, da ein Proton doniert wird", "Keine Reaktion", "Sofortige Neutralisation"], correct: 0, level: "schwer" },
  { question: "Was passiert beim Erreichen des Äquivalenzpunkts bei der Titration einer mehrprotonigen Säure?", answers: ["Die Lösung ist wieder sauer", "Der pH-Wert sinkt", "Die korrespondierende Base liegt vollständig vor", "Nur die konjugierte Säure ist vorhanden"], correct: 2, level: "schwer" }
];

    let questions = [];
    let used = [];
    let correctCount = 0;
    let askedCount = 0;

    function startQuiz(selectedLevel) {
      questions = allQuestions.filter(q => q.level === selectedLevel);
      document.getElementById('level-auswahl').style.display = 'none';
      document.getElementById('frage').style.display = 'block';
      document.getElementById('antworten').style.display = 'flex';
      showNext();
    }

    function getRandomIndex() {
      if (used.length === questions.length) used = [];
      let idx;
      do {
        idx = Math.floor(Math.random() * questions.length);
      } while (used.includes(idx));
      used.push(idx);
      return idx;
    }

    function showNext() {
      if (askedCount >= questions.length) {
        showResult();
        return;
      }
      askedCount++;
      const idx = getRandomIndex();
      const q = questions[idx];
      document.getElementById('frage').textContent = q.question;
      const container = document.getElementById('antworten');
      container.innerHTML = '';
      q.answers.forEach((ans, i) => {
        const btn = document.createElement('button');
        btn.textContent = ans;
btn.onclick = () => {
  if (i === q.correct) {
    btn.classList.add('correct');
    correctCount++;
  } else {
    btn.classList.add('wrong');
    wrongAnswers.push({
      question: q.question,
      selected: q.answers[i],
      correct: q.answers[q.correct]
    });

    setTimeout(() => {
      Array.from(container.children)[q.correct].classList.add('correct');
    }, 100);
  }
  setTimeout(showNext, 1000);
};
        container.appendChild(btn);
      });
    }

function showResult() {
  document.getElementById('frage').style.display = 'none';
  document.getElementById('antworten').style.display = 'none';
  const percent = Math.round((correctCount / askedCount) * 100);
  const ergebnisDiv = document.getElementById('ergebnis');

  let resultText = `Du hast ${correctCount} von ${askedCount} richtig (${percent}%)`;

  if (wrongAnswers.length > 0) {
    resultText += "<br><br><strong>Falsch beantwortete Fragen:</strong><ul>";
    wrongAnswers.forEach(item => {
      resultText += `<li><strong>Frage:</strong> ${item.question}<br>
                     <strong>Deine Antwort:</strong> ${item.selected}<br>
                     <strong>Richtige Antwort:</strong> ${item.correct}</li><br>`;
    });
    resultText += "</ul>";
  }

  ergebnisDiv.innerHTML = resultText;
  ergebnisDiv.style.display = 'block';
  document.getElementById('navigation').style.display = 'flex';
}

    function restart() {
      used = [];
      correctCount = 0;
      askedCount = 0;
      wrongAnswers = [];
      document.getElementById('ergebnis').style.display = 'none';
      document.getElementById('navigation').style.display = 'none';
      startQuiz(questions[0].level); // Restart with the same level
    }

    function Levels() {
      used = [];
      correctCount = 0;
      askedCount = 0;
      wrongAnswers = [];
      document.getElementById('frage').style.display = 'none';
      document.getElementById('antworten').style.display = 'none';
      document.getElementById('ergebnis').style.display = 'none';
      document.getElementById('navigation').style.display = 'none';
      document.getElementById('level-auswahl').style.display = 'flex';
    }
  </script>
</body>
</html>
